#pragma once
#include <vector>
using std::vector;

const vector<double> TAPS_GYRO = {
  0.05485409227193194, 0.05631498417590564, 0.057599395450664774, 0.05869960714848488, 0.05960899139597238, 0.060322059047598006, 0.060834499195496224, 0.06114321022563425, 0.06124632217662388, 0.06114321022563425, 0.060834499195496224, 0.060322059047598006, 0.05960899139597238, 0.05869960714848488, 0.057599395450664774, 0.05631498417590564, 0.05485409227193194
};

const vector<double> TAPS_ENC = {
  0.006360364304500905, 0.007287681687590031, 0.008242314065183763, 0.00921968460784962, 0.010214960657590994, 0.011223086112895143, 0.012238815949705453, 0.013256752606374215, 0.014271383942848662, 0.015277122469033002, 0.016268345524599853, 0.017239436082621226, 0.018184823842351074, 0.019099026272390806, 0.01997668926435428, 0.02081262705903564, 0.021601861111966388, 0.022339657573087597, 0.02302156306599887, 0.02364343846578405, 0.024201490390640363, 0.02469230014131094, 0.025112849843474852, 0.02546054557159781, 0.025733237258082717, 0.025929235218656244, 0.02604732315354375, 0.026086767513863515, 0.02604732315354375, 0.025929235218656244, 0.025733237258082717, 0.02546054557159781, 0.025112849843474852, 0.02469230014131094, 0.024201490390640363, 0.02364343846578405, 0.02302156306599887, 0.022339657573087597, 0.021601861111966388, 0.02081262705903564, 0.01997668926435428, 0.019099026272390806, 0.018184823842351074, 0.017239436082621226, 0.016268345524599853, 0.015277122469033002, 0.014271383942848662, 0.013256752606374215, 0.012238815949705453, 0.011223086112895143, 0.010214960657590994, 0.00921968460784962, 0.008242314065183763, 0.007287681687590031, 0.006360364304500905

};

const vector<double> TAPS_SPD(20, 1.0 / 9.0);

namespace MoBo {
class Filter {
  public:
    Filter(vector<double> taps);
    double filter(double in);
  private:
    vector<double> inBuf;
    vector<double> taps;
    unsigned idx;
    unsigned NTAPS;
};

}
